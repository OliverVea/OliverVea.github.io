<!DOCTYPE html>
<html lang="en-us">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Introduction to Fuzzy Logic - Oliver Vea</title><meta name="Description" content="Personal DevBlog of Oliver Vea"><meta property="og:url" content="http://localhost:1313/posts/fuzzy-logic/">
  <meta property="og:site_name" content="Oliver Vea">
  <meta property="og:title" content="Introduction to Fuzzy Logic">
  <meta property="og:description" content="Introduction As part of developing my dungeon-based RPG, I’ve recently been tinkering with fuzzy logic as a way to transform what non-player agents observe into what actions they choose to perform.
The benefit of using fuzzy logic in this way is that given a set of input parameters, I can make human-understandable and -interpretable rules which can result in a very complex output.
I haven’t yet integrated fuzzy logic into my game, but I thought I would make an explanatory article, which I can follow up with an update on my side-project afterwards.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-08-24T00:00:00+00:00">
    <meta property="article:modified_time" content="2023-08-24T00:00:00+00:00">
    <meta property="article:tag" content="Theory">
    <meta property="article:tag" content="Fuzzy Logic">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Introduction to Fuzzy Logic">
  <meta name="twitter:description" content="Introduction As part of developing my dungeon-based RPG, I’ve recently been tinkering with fuzzy logic as a way to transform what non-player agents observe into what actions they choose to perform.
The benefit of using fuzzy logic in this way is that given a set of input parameters, I can make human-understandable and -interpretable rules which can result in a very complex output.
I haven’t yet integrated fuzzy logic into my game, but I thought I would make an explanatory article, which I can follow up with an update on my side-project afterwards.">
<meta name="application-name" content="Oliver Vea Personal DevBlog">
<meta name="apple-mobile-web-app-title" content="Oliver Vea Personal DevBlog"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://localhost:1313/posts/fuzzy-logic/" /><link rel="prev" href="http://localhost:1313/posts/veachron/" /><link rel="next" href="http://localhost:1313/posts/fluent-fuzzy/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Introduction to Fuzzy Logic",
        "inLanguage": "en-us",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/localhost:1313\/posts\/fuzzy-logic\/"
        },"genre": "posts","keywords": "Theory, Fuzzy Logic","wordcount":  604 ,
        "url": "http:\/\/localhost:1313\/posts\/fuzzy-logic\/","datePublished": "2023-08-24T00:00:00+00:00","dateModified": "2023-08-24T00:00:00+00:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "Oliver Vea"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Oliver Vea"><span class="header-title-pre">< </span>Oliver Vea<span class="header-title-post"> /></span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Oliver Vea"><span class="header-title-pre">< </span>Oliver Vea<span class="header-title-post"> /></span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Introduction to Fuzzy Logic</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>Oliver Vea</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2023-08-24">2023-08-24</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;604 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;3 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#what-is-fuzzy-logic">What is fuzzy logic</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h2 id="introduction">Introduction</h2>
<p>As part of developing my dungeon-based RPG, I&rsquo;ve recently been tinkering with fuzzy logic as a way to transform what non-player agents observe into what actions they choose to perform.</p>
<p>The benefit of using fuzzy logic in this way is that given a set of input parameters, I can make human-understandable and -interpretable rules which can result in a very complex output.</p>
<p>I haven&rsquo;t yet integrated fuzzy logic into my game, but I thought I would make an explanatory article, which I can follow up with an update on my side-project afterwards.</p>
<h2 id="what-is-fuzzy-logic">What is fuzzy logic</h2>
<p>Fuzzy logic is a type of logic which can be used for e.g. <a href="https://www.sciencedirect.com/science/article/abs/pii/S0020737380800502" target="_blank" rel="noopener noreffer ">control</a> and <a href="https://www.iaeng.org/publication/WCECS2008/WCECS2008_pp804-809.pdf" target="_blank" rel="noopener noreffer ">prediction</a>. It works by taking an input, fuzzifying it with membership functions, applying a rule base of fuzzy rules to calculate the outputs which can then be defuzzified.</p>
<p>For example, to balance an inverted pendulum, there might be one single input: the pendulum angle. Let&rsquo;s say that the pendulum is in it&rsquo;s neutral state when it&rsquo;s pointing directly up. Any position of the pendulum can be compared to the neutral state to get the angular error.</p>
<p>This error will be our input. Let&rsquo;s say that an angle of 0° is <code>Neutral</code>, 5° is <code>Positive</code>, -5° is <code>Negative</code>, anything 10° or above is <code>VeryPositive</code>, and anything -10° or below is <code>VeryNegative</code>.  We can then choose membership functions that assign a membership value to each function depending on the input.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/fuzzy-logic/AngleMembership.png"
        data-srcset="/posts/fuzzy-logic/AngleMembership.png, /posts/fuzzy-logic/AngleMembership.png 1.5x, /posts/fuzzy-logic/AngleMembership.png 2x"
        data-sizes="auto"
        alt="/posts/fuzzy-logic/AngleMembership.png"
        title="Input parameter Angle with triangular membership functions" width="1313" height="628" /></p>
<p>For example, a value of 7° will have a value of <code>Positive = 0.6</code>, <code>VeryPositive = 0.4</code> and other values will simply be zero.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/fuzzy-logic/AngleMembershipIntercept.png"
        data-srcset="/posts/fuzzy-logic/AngleMembershipIntercept.png, /posts/fuzzy-logic/AngleMembershipIntercept.png 1.5x, /posts/fuzzy-logic/AngleMembershipIntercept.png 2x"
        data-sizes="auto"
        alt="/posts/fuzzy-logic/AngleMembershipIntercept.png"
        title="Evaluation of membership function values for a given Angle" width="1313" height="628" /></p>
<p>To balance the inverted pendulum, we want to set the PWM pulse width of the motor control to control the torque of the motor. As the objective is for the pendulum to stay upright, we want to counteract any angular error. This means that for a <code>Negative</code> angle, we want to move underneath the pendulum, in the <code>Negative</code> direction by setting the motor to <code>Negative</code> torque. For a <code>Positive</code> angle we move with <code>Positive</code> torque. We can also have higher torque values for <code>VeryPositive</code> and <code>VeryNegative</code> torques.</p>
<p>Membership functions can be assigned to the output parameter torque, for each of these.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/fuzzy-logic/TorqueMembership.png"
        data-srcset="/posts/fuzzy-logic/TorqueMembership.png, /posts/fuzzy-logic/TorqueMembership.png 1.5x, /posts/fuzzy-logic/TorqueMembership.png 2x"
        data-sizes="auto"
        alt="/posts/fuzzy-logic/TorqueMembership.png"
        title="Membership functions for the torque output" width="1247" height="596" /></p>
<p>The last step is to connect the input parameters to the output parameter with fuzzy rules. Fuzzy rules are logical statements that allows for calculating the outputs, based on the input. For example the fuzzy rules for the inverted pendulum could be:</p>
<ul>
<li><code>if Angle is VeryPositive then Torque is VeryPositive</code></li>
<li><code>if Angle is Positive then Torque is Positive</code></li>
<li><code>if Angle is Neutral then Torque is Neutral</code></li>
<li><code>if Angle is Negative then Torque is Negative</code></li>
<li><code>if Angle is VeryNegative then Torque is VeryNegative</code></li>
</ul>
<p>To compute the Torque from a given Angle, all of the input membership functions are evaluated on the Angle. This is a process known as fuzzyfication.</p>
<p>Then the output memberships are calculated from the input memberships according to the fuzzy rules.</p>
<p>Lastly, the output memberships are converted into a single output value. This process is called defuzzyfication. A common way to do this is to calculate the centroid of the shape of the output membership functions.</p>
<p>For the example of 7°, there are two non-zero memberships; <code>Positive = 0.6</code> and <code>VeryPositive = 0.4</code>. A shape can then be constructed as follows.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/fuzzy-logic/TorqueOutputShape.png"
        data-srcset="/posts/fuzzy-logic/TorqueOutputShape.png, /posts/fuzzy-logic/TorqueOutputShape.png 1.5x, /posts/fuzzy-logic/TorqueOutputShape.png 2x"
        data-sizes="auto"
        alt="/posts/fuzzy-logic/TorqueOutputShape.png"
        title="The shape of the torque membership functions given the two values" width="1247" height="596" /></p>
<p>Then the centroid of the shape is calculated, <code>Torque = 71.29%</code>, which is the output of the fuzzy system.</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/fuzzy-logic/TorqueCentroid.png"
        data-srcset="/posts/fuzzy-logic/TorqueCentroid.png, /posts/fuzzy-logic/TorqueCentroid.png 1.5x, /posts/fuzzy-logic/TorqueCentroid.png 2x"
        data-sizes="auto"
        alt="/posts/fuzzy-logic/TorqueCentroid.png"
        title="The centroid of the membership function shape" width="1247" height="596" /></p>
<h2 id="conclusion">Conclusion</h2>
<p>I&rsquo;ll be developing a small .NET package for implementing fuzzy systems in e.g. Unity projects. I&rsquo;ll make sure to attach a link here when it is ready.</p>
<p><strong>Update</strong>: The article on FluentFuzzy can be found <a href="../fluent-fuzzy" rel="">here</a>.</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2023-08-24</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="http://localhost:1313/posts/fuzzy-logic/" data-title="Introduction to Fuzzy Logic" data-hashtags="Theory,Fuzzy Logic"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="http://localhost:1313/posts/fuzzy-logic/" data-hashtag="Theory"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Linkedin" data-sharer="linkedin" data-url="http://localhost:1313/posts/fuzzy-logic/"><i class="fab fa-linkedin fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Reddit" data-sharer="reddit" data-url="http://localhost:1313/posts/fuzzy-logic/"><i class="fab fa-reddit fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="http://localhost:1313/posts/fuzzy-logic/" data-title="Introduction to Fuzzy Logic"><i data-svg-src="/lib/simple-icons/icons/line.min.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Skype" data-sharer="skype" data-url="http://localhost:1313/posts/fuzzy-logic/" data-title="Introduction to Fuzzy Logic"><i class="fab fa-skype fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/theory/">Theory</a>,&nbsp;<a href="/tags/fuzzy-logic/">Fuzzy Logic</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/veachron/" class="prev" rel="prev" title=".NET package for code timing"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>.NET package for code timing</a>
            <a href="/posts/fluent-fuzzy/" class="next" rel="next" title="Fuzzy Logic with Fluent Syntax">Fuzzy Logic with Fluent Syntax<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></div>
            </main></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/lightgallery/css/lightgallery-bundle.min.css"><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lightgallery.min.js"></script><script type="text/javascript" src="/lib/lightgallery/plugins/thumbnail/lg-thumbnail.min.js"></script><script type="text/javascript" src="/lib/lightgallery/plugins/zoom/lg-zoom.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{},"lightgallery":true,"search":{"highlightTag":"em","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
